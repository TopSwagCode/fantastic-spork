import"../chunks/Bg9kRutz.js";import"../chunks/69_IOA4Y.js";import{aE as C,g as U,s as c,f as O,t as j,i as V,w as v,e as p,j as t,aF as f,r as _,F as W,aG as X}from"../chunks/Df3_wIAr.js";import{l as Y,e as $,s as z}from"../chunks/cH138Czs.js";import{i as P}from"../chunks/D60o7wjF.js";import{e as Z,i as ee}from"../chunks/DTNiewuf.js";import{a as w,t as g}from"../chunks/DHU9EYRn.js";import{s as L}from"../chunks/q2Q9Fb5O.js";import{i as ae}from"../chunks/DFssRMdu.js";import{i as te}from"../chunks/Nql8XRRi.js";import{o as re}from"../chunks/2UCG9nup.js";function E(e,l,o){if(e.multiple)return ie(e,l);for(var i of e.options){var s=b(i);if(ae(s,l)){i.selected=!0;return}}(!o||l!==void 0)&&(e.selectedIndex=-1)}function se(e,l){C(()=>{var o=new MutationObserver(()=>{var i=e.__value;E(e,i)});return o.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{o.disconnect()}})}function oe(e,l,o=l){var i=!0;Y(e,"change",s=>{var u=s?"[selected]":":checked",d;if(e.multiple)d=[].map.call(e.querySelectorAll(u),b);else{var m=e.querySelector(u)??e.querySelector("option:not([disabled])");d=m&&b(m)}o(d)}),C(()=>{var s=l();if(E(e,s,i),i&&s===void 0){var u=e.querySelector(":checked");u!==null&&(s=b(u),o(s))}e.__value=s,i=!1}),se(e)}function ie(e,l){for(var o of e.options)o.selected=~l.indexOf(b(o))}function b(e){return"__value"in e?e.__value:e.value}var ne=g('<option class="svelte-wdj9wz"> </option>'),le=g('<img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/items/poke-ball.png" alt="Loading..." class="spinner svelte-wdj9wz">'),ve=g('<img alt="preload" class="hidden-img svelte-wdj9wz">'),ue=g('<h3 class="svelte-wdj9wz"> </h3> <img class="svelte-wdj9wz"> <p class="svelte-wdj9wz"><strong class="svelte-wdj9wz">Types:</strong> </p>',1),de=g('<p style="color: red;" class="svelte-wdj9wz"> </p>'),ce=g('<img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/items/poke-ball.png" alt="Loading..." style="display: none;" class="svelte-wdj9wz"> <h2 class="svelte-wdj9wz">Pokémon Picker</h2> <select class="svelte-wdj9wz"><option class="svelte-wdj9wz">-- Choose a Pokémon --</option><!></select> <div class="card svelte-wdj9wz"><!> <!> <!> <!></div>',1);function ze(e,l){U(l,!1);let o=f([]),i=f(""),s=f(null),u=f(!1),d=f(!1),m=f("");re(async()=>{try{const r=await(await fetch("https://pokeapi.co/api/v2/pokemon?limit=151")).json();v(o,r.results)}catch{v(m,"Failed to load Pokémon list.")}});async function G(a){v(u,!0),v(d,!1),v(s,null),v(m,"");try{const n=await(await fetch(`https://pokeapi.co/api/v2/pokemon/${a}`)).json();v(s,n)}catch{v(m,"Failed to fetch Pokémon details.")}finally{v(u,!1)}}function T(){v(d,!0)}te();var F=ce(),h=c(O(F),4);j(()=>{t(i),X(()=>{t(o)})});var x=p(h);x.value=((x.__value="")==null,"");var B=c(x);Z(B,1,()=>t(o),ee,(a,r)=>{var n=ne(),y={},k=p(n,!0);_(n),j(()=>{y!==(y=t(r).name)&&(n.value=(n.__value=t(r).name)==null?"":t(r).name),z(k,t(r).name)}),w(a,n)}),_(h);var I=c(h,2),S=p(I);{var H=a=>{var r=le();w(a,r)};P(S,a=>{(t(u)||t(s)&&!t(d))&&a(H)})}var A=c(S,2);{var J=a=>{var r=ve();j(()=>L(r,"src",t(s).sprites.front_default)),$("load",r,T),w(a,r)};P(A,a=>{t(s)&&!t(d)&&a(J)})}var D=c(A,2);{var K=a=>{var r=ue(),n=O(r),y=p(n,!0);_(n);var k=c(n,2),M=c(k,2),R=c(p(M));_(M),j(q=>{z(y,t(s).name),L(k,"src",t(s).sprites.front_default),L(k,"alt",t(s).name),z(R,` ${q??""}`)},[()=>t(s).types.map(q=>q.type.name).join(", ")],W),w(a,r)};P(D,a=>{t(s)&&t(d)&&a(K)})}var N=c(D,2);{var Q=a=>{var r=de(),n=p(r,!0);_(r),j(()=>z(n,t(m))),w(a,r)};P(N,a=>{t(m)&&a(Q)})}_(I),oe(h,()=>t(i),a=>v(i,a)),$("change",h,()=>G(t(i))),w(e,F),V()}export{ze as component};
