import{q as w,u as F,L as N,P as Y,v as x,j as s,w as y,x as h,B as G,R as M,y as L,z as U,A as z,C as H,S as $,D as j,k as T,F as J,G as B,H as V,I as Z,J as K}from"./Df3_wIAr.js";import{p as Q}from"./DFssRMdu.js";import{c as W}from"./C4QBZP3K.js";import{l as X}from"./DIeogL5L.js";function C(r){for(var a=B,n=B;a!==null&&!(a.f&(G|M));)a=a.parent;try{return L(a),r()}finally{L(n)}}function ne(r,a,n,v){var g;var R=(n&U)!==0,d=!X||(n&z)!==0,P=(n&H)!==0,D=(n&V)!==0,A=!1,u;P?[u,A]=W(()=>r[a]):u=r[a];var p=$ in r||j in r,_=P&&(((g=w(r,a))==null?void 0:g.set)??(p&&a in r&&(e=>r[a]=e)))||void 0,t=v,m=!0,S=!1,O=()=>(S=!0,m&&(m=!1,D?t=h(v):t=v),t);u===void 0&&v!==void 0&&(_&&d&&F(),u=O(),_&&_(u));var i;if(d)i=()=>{var e=r[a];return e===void 0?O():(m=!0,S=!1,e)};else{var b=C(()=>(R?T:J)(()=>r[a]));b.f|=N,i=()=>{var e=s(b);return e!==void 0&&(t=void 0),e===void 0?t:e}}if(!(n&Y))return i;if(_){var q=r.$$legacy;return function(e,f){return arguments.length>0?((!d||!f||q||A)&&_(f?i():e),e):i()}}var c=!1,E=!1,o=Z(u),l=C(()=>T(()=>{var e=i(),f=s(o);return c?(c=!1,E=!0,f):(E=!1,o.v=e)}));return R||(l.equals=x),function(e,f){if(K!==null&&(c=E,i(),s(o)),arguments.length>0){const I=f?s(l):d&&P?Q(e):e;return l.equals(I)||(c=!0,y(o,I),S&&t!==void 0&&(t=I),h(()=>s(l))),e}return s(l)}}export{ne as p};
